<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' blob:; script-src 'self'; style-src 'self' 'unsafe-inline'; img-src 'self' blob:; media-src 'self' blob:;">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digital Content Signer</title>
    <link rel="stylesheet" href="../assets/styles/style.css">
<style>
    body.signer-page {
        overflow-y: auto;
        align-items: flex-start;
        padding-top: 2rem;
    }
    .signer-section {
        margin-bottom: 20px;
        padding: 15px;
        background: var(--secondary-bg-color);
        border-radius: 8px;
        border-left: 4px solid var(--accent-color);
    }
    .signer-section input, .signer-section select {
        width: 100%;
        padding: 8px;
        margin-top: 5px;
        border: 1px solid var(--border-color);
        border-radius: 4px;
        background: var(--tertiary-bg-color);
        color: var(--main-text-color);
    }
    .file-item {
        display: flex;
        align-items: center;
        padding: 10px;
        border: 1px solid var(--border-color);
        border-radius: 4px;
        margin-bottom: 10px;
        background: var(--tertiary-bg-color);
    }
    .file-preview {
        width: 80px;
        height: 80px;
        object-fit: cover;
        border-radius: 4px;
        margin-right: 15px;
    }
    .file-details {
        flex-grow: 1;
    }
    .file-details input {
        width: 100%;
        margin-top: 5px;
    }
    .remove-file {
        color: #ff6b6b;
        cursor: pointer;
        font-size: 1.2em;
    }
    .status-message {
        padding: 10px;
        border-radius: 4px;
        margin-top: 10px;
    }
    .status-success {
        background: #d4edda;
        color: #155724;
        border: 1px solid #c3e6cb;
    }
    .status-error {
        background: #f8d7da;
        color: #721c24;
        border: 1px solid #f5c6cb;
    }
    .status-info {
        background: #d1ecf1;
        color: #0c5460;
        border: 1px solid #bee5eb;
    }
</style>
</head>
<body class="signer-page theme-active">
    <div class="container">
        <div id="signerContainer" class="account-dashboard-wrapper">
            <div class="account-header">
                <h1>üîê Digital Content Signer</h1>
                <p>Manually sign your AI-generated images and videos with cryptographic certificates for authenticity verification.</p>
            </div>

            <div id="signerContent">
                <div class="signer-section">
                    <h3>Select Files to Sign</h3>
                    <p>Choose images or videos from your Output folder. You can rename them before signing.</p>
                    <input type="file" id="fileInput" multiple accept="image/*,video/*">
                    <small style="color: var(--secondary-text-color);">Supported formats: PNG, JPG, GIF, MP4, WebM</small>
                </div>

                <div class="signer-section" id="selectedFilesSection" style="display: none;">
                    <h3>Selected Files</h3>
                    <div id="selectedFilesList"></div>
                    <button id="signFilesBtn" class="btn-primary" style="margin-top: 15px;">üîê Sign Selected Files</button>
                </div>

                <div id="statusContainer"></div>
                
                <div class="signer-section">
                    <h3>Signed Content Management</h3>
                    <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                        <button id="openSignedFolderBtn" class="btn-secondary">üìÇ Open Signed Folder</button>
                        <button id="clearSignedFolderBtn" class="btn-danger">üóëÔ∏è Clear Signed Folder</button>
                    </div>
                    <small style="color: var(--secondary-text-color); display: block; margin-top: 10px;">
                        The signed content folder is separate from other output folders and won't be affected by the "Clear All Output Folders" button.
                    </small>
                </div>
            </div>
        </div>
    </div>
    <script src="signer.js"></script>
</body>
</html>